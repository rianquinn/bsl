<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: include/bsl/failure.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_45f4934d4b4d678b059967ef5b28d23b.html">bsl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">failure.hpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="fatal__error_8hpp_source.html">fatal_error.hpp</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for failure.hpp:</div>
<div class="dyncontent">
<div class="center"><img src="failure_8hpp__incl.png" border="0" usemap="#include_2bsl_2failure_8hpp" alt=""/></div>
<map name="include_2bsl_2failure_8hpp" id="include_2bsl_2failure_8hpp">
<area shape="rect" title=" " alt="" coords="277,5,425,32"/>
<area shape="rect" href="fatal__error_8hpp.html" title=" " alt="" coords="299,80,404,107"/>
<area shape="rect" href="unchecked__error_8hpp.html" title=" " alt="" coords="280,155,423,181"/>
<area shape="rect" href="exception_8hpp.html" title=" " alt="" coords="300,229,403,256"/>
<area shape="rect" href="source__location_8hpp.html" title=" " alt="" coords="282,304,421,331"/>
<area shape="rect" href="fmt_8hpp.html" title=" " alt="" coords="319,379,384,405"/>
<area shape="rect" href="types_8hpp.html" title=" " alt="" coords="153,453,232,480"/>
<area shape="rect" title=" " alt="" coords="256,453,337,480"/>
<area shape="rect" title=" " alt="" coords="361,453,453,480"/>
<area shape="rect" title=" " alt="" coords="477,453,580,480"/>
<area shape="rect" href="discard_8hpp.html" title=" " alt="" coords="5,528,95,555"/>
<area shape="rect" title=" " alt="" coords="119,528,181,555"/>
<area shape="rect" title=" " alt="" coords="205,528,265,555"/>
<area shape="rect" title=" " alt="" coords="290,528,373,555"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="failure_8hpp__dep__incl.png" border="0" usemap="#include_2bsl_2failure_8hppdep" alt=""/></div>
<map name="include_2bsl_2failure_8hppdep" id="include_2bsl_2failure_8hppdep">
<area shape="rect" title=" " alt="" coords="15,5,163,32"/>
<area shape="rect" href="debug_8hpp.html" title=" " alt="" coords="15,80,163,107"/>
<area shape="rect" href="contracts_8hpp.html" title=" " alt="" coords="5,155,172,181"/>
<area shape="rect" href="unsign_8hpp.html" title=" " alt="" coords="13,229,164,256"/>
<area shape="rect" href="convert_8hpp.html" title=" " alt="" coords="11,304,166,331"/>
<area shape="rect" href="integer_8hpp.html" title=" " alt="" coords="13,379,165,405"/>
</map>
</div>
</div>
<p><a href="failure_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acfa7fac85c794f7f49645feeba1249dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="failure_8hpp.html#acfa7fac85c794f7f49645feeba1249dc">bsl::fail_fast</a> (std::int32_t const exit_code=exit_failure) noexcept</td></tr>
<tr class="memdesc:acfa7fac85c794f7f49645feeba1249dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The following is used to fail fast. This is needed when there is no other option, and we must exit. When possible, you should call <a class="el" href="debug_8hpp.html#a65674eda15b2f8f37bae76d9cc59ebe9">bsl::fatal()</a> instead of this function as it will call call <a class="el" href="failure_8hpp.html#a0da818f8bd1562befc1f6d701484e0c9" title="Used to issue a run-time failure. Note that this function should be called using bsl::fatal() instead...">bsl::fail()</a> which will throw an exception when AUTOSAR is enabled instead of failing fast. Another option would be to throw a <a class="el" href="classbsl_1_1checked__error.html" title="This class provides the base type for all checked exceptions types defined by the AUTOSAR specificati...">bsl::checked_error()</a> exception, or use a contract like <a class="el" href="contracts_8hpp.html#a3c0c640a6bb8aac6fb049862fc864593" title="expects">bsl::expects()</a>. This function should only be used when you know that there are absolutely no other options but to exit the program. When AUTOSAR is enabled, this will call std::exit(), otherwise this will call std::abort().  <a href="failure_8hpp.html#acfa7fac85c794f7f49645feeba1249dc">More...</a><br /></td></tr>
<tr class="separator:acfa7fac85c794f7f49645feeba1249dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0da818f8bd1562befc1f6d701484e0c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="failure_8hpp.html#a0da818f8bd1562befc1f6d701484e0c9">bsl::fail</a> (sloc_type const &amp;sloc=bsl::here(), std::int32_t const exit_code=exit_failure)</td></tr>
<tr class="memdesc:a0da818f8bd1562befc1f6d701484e0c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to issue a run-time failure. Note that this function should be called using <a class="el" href="debug_8hpp.html#a65674eda15b2f8f37bae76d9cc59ebe9">bsl::fatal()</a> instead of directly calling it. If AUTOSAR is enabled, this function will throw. Otherwise, this function will call std::exit() with the provided exit code.  <a href="failure_8hpp.html#a0da818f8bd1562befc1f6d701484e0c9">More...</a><br /></td></tr>
<tr class="separator:a0da818f8bd1562befc1f6d701484e0c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af727fc525e71598a7fa8267b7522898f"><td class="memItemLeft" align="right" valign="top"><a id="af727fc525e71598a7fa8267b7522898f"></a>
constexpr std::int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="failure_8hpp.html#af727fc525e71598a7fa8267b7522898f">bsl::exit_success</a> {EXIT_SUCCESS}</td></tr>
<tr class="memdesc:af727fc525e71598a7fa8267b7522898f"><td class="mdescLeft">&#160;</td><td class="mdescRight">denotes a successful exit <br /></td></tr>
<tr class="separator:af727fc525e71598a7fa8267b7522898f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a608e859cbf5cdbdcc3ae7f3131463444"><td class="memItemLeft" align="right" valign="top"><a id="a608e859cbf5cdbdcc3ae7f3131463444"></a>
constexpr std::int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="failure_8hpp.html#a608e859cbf5cdbdcc3ae7f3131463444">bsl::exit_failure</a> {EXIT_FAILURE}</td></tr>
<tr class="memdesc:a608e859cbf5cdbdcc3ae7f3131463444"><td class="mdescLeft">&#160;</td><td class="mdescRight">denotes a failed exit <br /></td></tr>
<tr class="separator:a608e859cbf5cdbdcc3ae7f3131463444"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section copyright"><dt>Copyright</dt><dd>Copyright (C) 2019 Assured Information Security, Inc.</dd>
<dd>
Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</dd>
<dd>
The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</dd>
<dd>
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="file_acfa7fac85c794f7f49645feeba1249dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_acfa7fac85c794f7f49645feeba1249dc">&#9670;&nbsp;</a></span>fail_fast()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void bsl::fail_fast </td>
          <td>(</td>
          <td class="paramtype">std::int32_t const&#160;</td>
          <td class="paramname"><em>exit_code</em> = <code>exit_failure</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The following is used to fail fast. This is needed when there is no other option, and we must exit. When possible, you should call <a class="el" href="debug_8hpp.html#a65674eda15b2f8f37bae76d9cc59ebe9">bsl::fatal()</a> instead of this function as it will call call <a class="el" href="failure_8hpp.html#a0da818f8bd1562befc1f6d701484e0c9" title="Used to issue a run-time failure. Note that this function should be called using bsl::fatal() instead...">bsl::fail()</a> which will throw an exception when AUTOSAR is enabled instead of failing fast. Another option would be to throw a <a class="el" href="classbsl_1_1checked__error.html" title="This class provides the base type for all checked exceptions types defined by the AUTOSAR specificati...">bsl::checked_error()</a> exception, or use a contract like <a class="el" href="contracts_8hpp.html#a3c0c640a6bb8aac6fb049862fc864593" title="expects">bsl::expects()</a>. This function should only be used when you know that there are absolutely no other options but to exit the program. When AUTOSAR is enabled, this will call std::exit(), otherwise this will call std::abort(). </p>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="failure_8hpp.html">bsl/failure.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line">std::int32_t</div>
<div class="line">main() noexcept</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="failure_8hpp.html#acfa7fac85c794f7f49645feeba1249dc">bsl::fail_fast</a>();</div>
<div class="line">}</div>
</div><!-- fragment --><p>SUPPRESSION: PRQA 4649 - false positive</p><ul>
<li>We suppress this because PRQA is stating that this function does not have an external side effect. This function calls std::exit(), which calls the atexit() handles, which is an external side effect, and thus, this is a false positive.</li>
</ul>
<p>SUPPRESSION: PRQA 5024 - mutually exclusive rules</p><ul>
<li>We suppress this because M18-0-3 is mutually exclusive with A15-5-2. M18-0-3 states that std::exit() may not be called, while A15-5-2 provides an exception to this rule specifically for std::exit() as it calls the atexit() registered functions. When an error occurs that cannot be recovered from (meaning an exception is not possible), this is the AUTOSAR compliant solution. Note that exceptions should be thrown when possible, and this should only be used as a last resort.</li>
</ul>
<dl class="section pre"><dt>Precondition</dt><dd>none </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>none</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">exit_code</td><td>the exit code to pass to std::exit() if needed</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">[checked]</td><td>none </td></tr>
    <tr><td class="paramname">[unchecked]</td><td>none </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="failure_8hpp_acfa7fac85c794f7f49645feeba1249dc_cgraph.png" border="0" usemap="#failure_8hpp_acfa7fac85c794f7f49645feeba1249dc_cgraph" alt=""/></div>
<map name="failure_8hpp_acfa7fac85c794f7f49645feeba1249dc_cgraph" id="failure_8hpp_acfa7fac85c794f7f49645feeba1249dc_cgraph">
<area shape="rect" title="The following is used to fail fast. This is needed when there is no other option, and we must exit...." alt="" coords="5,29,99,56"/>
</map>
</div>

</div>
</div>
<a id="file_a0da818f8bd1562befc1f6d701484e0c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_a0da818f8bd1562befc1f6d701484e0c9">&#9670;&nbsp;</a></span>fail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void bsl::fail </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="source__location_8hpp.html#a5fefedc73c85f9a67d6028a786648e09">sloc_type</a> const &amp;&#160;</td>
          <td class="paramname"><em>sloc</em> = <code>bsl::here()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::int32_t const&#160;</td>
          <td class="paramname"><em>exit_code</em> = <code>exit_failure</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to issue a run-time failure. Note that this function should be called using <a class="el" href="debug_8hpp.html#a65674eda15b2f8f37bae76d9cc59ebe9">bsl::fatal()</a> instead of directly calling it. If AUTOSAR is enabled, this function will throw. Otherwise, this function will call std::exit() with the provided exit code. </p>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="failure_8hpp.html">bsl/failure.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="debug_8hpp.html">bsl/debug.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line">std::int32_t</div>
<div class="line">main() noexcept</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">try</span> {</div>
<div class="line">        <a class="code" href="failure_8hpp.html#a0da818f8bd1562befc1f6d701484e0c9">bsl::fail</a>();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="classbsl_1_1unchecked__error.html">bsl::unchecked_error</a> <span class="keyword">const</span> &amp;e) {</div>
<div class="line">        <a class="code" href="debug_8hpp.html#a612da4762eb7b1081686f74d485761cf">bsl::print</a>(<span class="stringliteral">&quot;{}\n&quot;</span>, e);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (...) {</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>SUPPRESSION: PRQA 2880 - false positive</p><ul>
<li>We suppress this because M0-1-1 states that the program shall not contain unreachable code, which refers to unreachable code at runtime, not code that is compiled out due to a configuration change. For example, code after a return statement, and code in a switch statement with no associated case. In this specific case, a constexpr-if statement is used which PRQA should be able to detect but doesn't. Also note that Clang-Tidy has this same check and the code below compiles without issue.</li>
</ul>
<dl class="section pre"><dt>Precondition</dt><dd>none </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>none</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sloc</td><td>the location of the call to <a class="el" href="failure_8hpp.html#a0da818f8bd1562befc1f6d701484e0c9" title="Used to issue a run-time failure. Note that this function should be called using bsl::fatal() instead...">fail()</a> </td></tr>
    <tr><td class="paramname">exit_code</td><td>the exit code to pass to std::exit() if needed</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">[checked]</td><td>none </td></tr>
    <tr><td class="paramname">[unchecked]</td><td>possible </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="failure_8hpp_a0da818f8bd1562befc1f6d701484e0c9_cgraph.png" border="0" usemap="#failure_8hpp_a0da818f8bd1562befc1f6d701484e0c9_cgraph" alt=""/></div>
<map name="failure_8hpp_a0da818f8bd1562befc1f6d701484e0c9_cgraph" id="failure_8hpp_a0da818f8bd1562befc1f6d701484e0c9_cgraph">
<area shape="rect" title="Used to issue a run&#45;time failure. Note that this function should be called using bsl::fatal() instead..." alt="" coords="5,29,69,56"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="afailure_8hpp_html"><div class="ttname"><a href="failure_8hpp.html">failure.hpp</a></div></div>
<div class="ttc" id="afailure_8hpp_html_a0da818f8bd1562befc1f6d701484e0c9"><div class="ttname"><a href="failure_8hpp.html#a0da818f8bd1562befc1f6d701484e0c9">bsl::fail</a></div><div class="ttdeci">void fail(sloc_type const &amp;sloc=bsl::here(), std::int32_t const exit_code=exit_failure)</div><div class="ttdoc">Used to issue a run-time failure. Note that this function should be called using bsl::fatal() instead...</div><div class="ttdef"><b>Definition:</b> failure.hpp:117</div></div>
<div class="ttc" id="adebug_8hpp_html"><div class="ttname"><a href="debug_8hpp.html">debug.hpp</a></div></div>
<div class="ttc" id="adebug_8hpp_html_a612da4762eb7b1081686f74d485761cf"><div class="ttname"><a href="debug_8hpp.html#a612da4762eb7b1081686f74d485761cf">bsl::print</a></div><div class="ttdeci">constexpr void print(A &amp;&amp;... args) noexcept</div><div class="ttdef"><b>Definition:</b> debug.hpp:51</div></div>
<div class="ttc" id="afailure_8hpp_html_acfa7fac85c794f7f49645feeba1249dc"><div class="ttname"><a href="failure_8hpp.html#acfa7fac85c794f7f49645feeba1249dc">bsl::fail_fast</a></div><div class="ttdeci">void fail_fast(std::int32_t const exit_code=exit_failure) noexcept</div><div class="ttdoc">The following is used to fail fast. This is needed when there is no other option, and we must exit....</div><div class="ttdef"><b>Definition:</b> failure.hpp:81</div></div>
<div class="ttc" id="aclassbsl_1_1unchecked__error_html"><div class="ttname"><a href="classbsl_1_1unchecked__error.html">bsl::unchecked_error</a></div><div class="ttdoc">This class provides the base type for all unchecked exceptions types defined by the AUTOSAR specifica...</div><div class="ttdef"><b>Definition:</b> unchecked_error.hpp:40</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
